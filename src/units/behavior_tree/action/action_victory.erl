%%%-------------------------------------------------------------------
%%% @author GZ1417
%%% @copyright (C) 2022, 4399
%%% @doc
%%% 胜利
%%% @end
%%%-------------------------------------------------------------------
-module(action_victory).

%%--------------------------------------------------------------------
%% include
%%--------------------------------------------------------------------
-include("behavior3.hrl").
-include("rogue_adventure.hrl").
%%--------------------------------------------------------------------
%% export API
%%--------------------------------------------------------------------
-export([tick/3]).

%%--------------------------------------------------------------------
%% API functions
%%--------------------------------------------------------------------
-spec tick(tree_node(), blackboard(), term()) -> {bt_status(), blackboard(), term()}.
tick(_TreeNode, BB, #{id := Id} = State) ->
    ?DEBUG("~ts:哈，哈，哈，我是无敌的摸金校尉！", [unit:unit_name(Id)]),
    rogue_adventure_mgr:game_over(victory, "罗格获得了胜利！！"),
    {?BT_SUCCESS, BB, State}.
%%--------------------------------------------------------------------
%% Internal functions
%%--------------------------------------------------------------------